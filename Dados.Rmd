---
title: "FlorestaR - acesso aos dados do projeto"
author: "Luiz C. E. Rodriguez, Eric B. Gorgens, Humberto T. Menecheli Filho, Nathan O. Barreto, João V.L. Marinho, Arthur K. Sanchez, José J. Monteiro"
description: "Instruções para acessar os dados diretamente do código R usado nos exercícios dos livros da série FlorestaR"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

if(!require(rio))
  install.packages('rio', dependencies = TRUE)
library(rio)

if(!require(tidyverse))
  install.packages('tidyverse', dependencies = TRUE)
library(tidyverse)

```

------------------------------------------------------------------------

# O projeto Floresta*R*

O projeto **Floresta*R*** reúne estudantes e professores interessados no **uso do R como ferramenta de análise de dados florestais**. Essa equipe trabalha de forma colaborativa para redigir os livros da série **Floresta*R***.

------------------------------------------------------------------------

# Sobre os autores

Os autores dos volumes 1 a 4 da série **Floresta*R*** são:

-   [**Luiz Carlos Estraviz Rodriguez**]{.ul}, professor titular da Escola Superior de Agricultura Luiz de Queiroz (ESALQ) da Universidade de São Paulo
-   [**Eric Bastos Gorgens**]{.ul}, professor do Departamento de Engenharia Florestal da Universidade Federal dos Vales do Jequitinhonha e Mucuri (UFVJM)
-   [**Humberto Tadeu Menecheli Filho**]{.ul}, engenheiro florestal analista de dados da ForLiDAR
-   [**Nathan de Oiveira Barreto**]{.ul}, graduando de engenharia florestal da ESALQ/USP
-   [**João Victor Lopes Marinho**]{.ul}, graduando de engenharia florestal da ESALQ/USP
-   [**Arthur Kaufmann Sanchez**]{.ul}, graduando de engenharia florestal da ESALQ/USP
-   [**José Jorge Monteiro Junior**]{.ul}, engenheiro florestal mestrando do programa de pós-graduação em Recursos Florestais da ESALQ/USP

------------------------------------------------------------------------

# Sobre os livros

A coleção está em constante evolução, e no momento é constituida pelos seguintes volumes:

-   **Vol_01** Análise exploratória de dados florestais
-   **Vol_02** Análise quantitativa de dados florestais
-   **Vol_03** Amostragem para fins de inventário florestal
-   **Vol_04** Processamento de dados LiDAR para o monitoramento de florestas

------------------------------------------------------------------------

# Conjunto de dados

Os dados usados para ilustrar os exemplos estão organizados da seguinte forma:

| Pasta        | Conteúdo                                       |
|:-------------|:-----------------------------------------------|
| 1_Amazonia   | Árvores inventariadas na Amazônia              |
| 2_Cubadas    | Árvores cubadas para estudos de volumetria     |
| 3_Corredores | Árvores inventariadas em corredores ecológicos |
| 4_Eucalyptus | Árvores inventariadas em plantio de eucalipto  |
| 5_Lidar      | Nuvens de pontos gerada por sobrevoos LiDAR    |

------------------------------------------------------------------------

# Como acessar os dados dos exercícios

Vários são os estudos e exercícios desenvolvidos nos livros da série **Floresta*R***. Os dados são disponibilizados neste repositório de forma aberta para proporcionar maior acessibilidade e para tornar reproduzíveis os exemplos apresentados.

Os dados foram estruturados em tabelas, segundo regras [tidy](https://r4ds.had.co.nz/tidy-data.html). Isso facilita o uso de funções **tidyverse**, e podem ser acessados diretamente do seu código R.

### Formato CSV

O conteúdo da planilha `Censo_UPA04.csv` pode ser armazenado em um objeto `dados`, da seguinte forma:

```{r ledados1, message=FALSE, echo=TRUE}
gitOnde <- "https://github.com/LuizEstraviz/LivroDados/blob/main/1_Amazonia/"
gitNome <- "Censo_UPA04.csv"
gitArqv <- paste0(gitOnde, gitNome, "?raw=true")

dados   <- readr::read_csv(gitArqv)

# O resultado é uma tibble com 20.321 linhas e 19 variáveis
```

`gitOnde` define a pasta dentro do repositório, `gitNome` define o arquivo de dados e `gitArqv` junta essas duas informações ao termo `?raw=true` para que o endereço URL completo possa ser usado na função `read_csv()` do pacote **readr** da coleção **tidyverse**. A função `read_csv()` do pacote **readr** permite que um usuário R conectado à internet leia diretamente dados mantidos em repositórios [github](https://github.com).

### Formato XLSX

Para ler a versão `xlsx` da mesma planilha (Censo_UPA04.xlsx), uma alternativa é usar a função `import()` do pacote **rio**:

```{r ledados2, message=FALSE, echo=TRUE}
gitOnde <- "https://github.com/LuizEstraviz/LivroDados/blob/main/1_Amazonia/"
gitNome <- "Censo_UPA04.xlsx"
gitArqv <- paste0(gitOnde, gitNome, "?raw=true")

dados   <- tibble(rio::import(gitArqv))

# O resultado é uma tibble com 20.321 linhas e 19 variáveis
```

### Acesso à estrutura dos dados

No exemplo acima, a tabela `dados` resultante registra medições reais de um censo de árvores realizado em 2010, numa área de floresta amazônica no estado de Rondônia, próxima à divisa com o Acre. Para exibir a estrutura dessa tabela, podemos usar a função `str()` do R:

```{r colunas, message=FALSE, echo=TRUE}
str(dados)
```

Para acesso direto a qualquer um dos demais arquivos de dados mantidos neste repositório, basta usar procedimento similar. Caso encontre alguma inconsistência nas informações deste repositório, ou queira registrar um comentário, clique em [`issues`](https://github.com/LuizEstraviz/FlorestaR_dados/issues) no menu do repositório [github.com/LuizEstraviz/FlorestaR_dados](https://github.com/LuizEstraviz/FlorestaR_dados) e deixe a sua contribuição clicando no botão `New issue`.

Agradecemos o seu interesse por esta iniciativa.
